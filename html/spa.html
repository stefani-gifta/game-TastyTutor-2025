<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tasty Tutor - Cooking Game</title>
  <link rel="stylesheet" href="../css/main.css">
  <link rel="stylesheet" href="../css/game.css">
  <link rel="stylesheet" href="../css/cook.css">
  <link rel="stylesheet" href="../css/index.css">
</head>
<body>
  <audio id="bg-music" src="../assets/Lukrembo - Kitchen (freetouse.com).mp3" autoplay loop></audio>
  <img src="../assets/music.png" id="pauseMusic">

  <div id="container">
    <!-- Home Page -->
    <div id="homePage">
      <h2>Welcome to</h2>
      <h1>Tasty Tutor</h1>
      <div id="start-game">
        <div>
          <button class="start-btn btn-style701" onclick="goToGame()"><span>Start</span></button>
        </div>
      </div>
    </div>

    <!-- Game Page -->
    <div id="gamePage" style="display: none;">
      <a id="back-button" class="button" onclick="goToHome()">Home</a>
      <div id="game-background">
        <div id="recipe-selection">
          <h2>Select a recipe to cook</h2>
          <div class="recipes">
            <img src="../assets/cereal.png" class="recipe" data-recipe="cereal">
            <img src="../assets/onigiri.png" class="recipe" data-recipe="onigiri">
            <img src="../assets/hotdog.png" class="recipe" data-recipe="hotdog">
            <img src="../assets/taco.png" class="recipe" data-recipe="taco">
            <img src="../assets/cookie.png" class="recipe" data-recipe="cookie">
          </div>
        </div>
      </div>
    </div>

    <!-- Cooking Page -->
    <div id="cookPage" style="display: none;">
      <a id="back-button" class="button" onclick="goToGame()">Back</a>
      <div id="cook-container">
        <!-- Add Timer and Score Here -->
        <div id="game-info">
          <span id="timer">Time: 60s</span>
          <span id="score">Score: 0</span>
        </div>

        <img id="recipe-img" src="" alt="Recipe Image">

        <div id="ingredients-box">
          <h3>Ingredients</h3>
          <ul id="ingredient-list"></ul>
        </div>

        <div id="cooking-steps" style="display: none;">
          <h3>Steps</h3>
          <div id="step-instruction"></div>
          <button id="next-step-button">Next</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    function goToGame() {
      document.getElementById("homePage").style.display = "none";
      document.getElementById("gamePage").style.display = "block";
      document.getElementById("cookPage").style.display = "none";
    }
  
    function goToHome() {
      document.getElementById("homePage").style.display = "block";
      document.getElementById("gamePage").style.display = "none";
      document.getElementById("cookPage").style.display = "none";
    }
  
    window.addEventListener("DOMContentLoaded", () => {
      document.querySelectorAll(".recipe").forEach(img => {
        img.addEventListener("click", () => {
          const recipe = img.dataset.recipe;
          showCookingPage(recipe);
        });
      });
    });
  
    function showCookingPage(recipe) {
      document.getElementById("gamePage").style.display = "none";
      document.getElementById("cookPage").style.display = "block";
  
      const recipeImg = document.getElementById("recipe-img");
      recipeImg.src = `../assets/${recipe}.png`;
      recipeImg.alt = recipe;
  
      const ingredients = {
        cereal: ["Milk", "Cereal", "Bowl"],
        onigiri: ["Rice", "Seaweed", "Salt"],
        hotdog: ["Bun", "Sausage", "Ketchup"],
        taco: ["Tortilla", "Meat", "Cheese"],
        cookie: ["Flour", "Egg", "Sugar"]
      };
  
      const steps = {
        cereal: ["Pour cereal into bowl", "Add milk", "Enjoy!"],
        onigiri: ["Cook rice", "Form triangle", "Wrap with seaweed"],
        hotdog: ["Heat sausage", "Place in bun", "Add ketchup"],
        taco: ["Prepare fillings", "Add to tortilla", "Fold and serve"],
        cookie: ["Mix ingredients", "Bake in oven", "Cool and eat"]
      };
  
      const list = document.getElementById("ingredient-list");
      list.innerHTML = "";
      ingredients[recipe].forEach(item => {
        const li = document.createElement("li");
        li.textContent = item;
        list.appendChild(li);
      });
  
      const stepContainer = document.getElementById("cooking-steps");
      const stepText = document.getElementById("step-instruction");
      const nextButton = document.getElementById("next-step-button");
      let stepIndex = 0;
  
      stepText.textContent = steps[recipe][stepIndex];
      stepContainer.style.display = "block";
  
      nextButton.onclick = () => {
        stepIndex++;
        if (stepIndex < steps[recipe].length) {
          stepText.textContent = steps[recipe][stepIndex];
        } else {
          stepText.textContent = "Done!";
          nextButton.disabled = true;
        }
      };
    }
  </script>
  